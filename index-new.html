<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI & Automation: The Future of Work</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles-new.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loader-container">
            <div class="loader"></div>
            <h2>Loading Global Job Market Data</h2>
            <p>Analyzing millions of jobs across the world...</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-brand">
            <span class="brand-icon">üåê</span>
            <span class="brand-text">AI Job Market</span>
        </div>
        <div class="nav-links">
            <a href="#intro" class="nav-link active" data-stage="0">Introduction</a>
            <a href="#stage1" class="nav-link" data-stage="1">Global Shift</a>
            <a href="#stage2" class="nav-link" data-stage="2">Risk & Reward</a>
            <a href="#stage3" class="nav-link" data-stage="3">Skill Evolution</a>
        </div>
        <div class="nav-stats">
            <div class="stat-item">
                <span class="stat-value" id="total-jobs">0</span>
                <span class="stat-label">AI Jobs</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="avg-salary">$0</span>
                <span class="stat-label">Avg Salary</span>
            </div>
            <button id="help-btn" style="margin-left: 20px; padding: 8px 16px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 13px; transition: all 0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'" onclick="showHelp()">‚ùì Help</button>
        </div>
    </nav>

    <!-- Progress Indicator -->
    <div class="progress-indicator">
        <div class="progress-bar" id="progress-bar"></div>
    </div>

    <!-- Introduction -->
    <section id="intro" class="stage active" style="min-height: 100vh; display: flex; align-items: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div style="max-width: 900px; margin: 0 auto; padding: 60px 40px; color: white;">
            <div style="text-align: center; margin-bottom: 48px; animation: fadeInUp 0.6s;">
                <div style="font-size: 72px; margin-bottom: 16px;">ü§ñ</div>
                <h1 style="font-size: 56px; font-weight: 800; margin-bottom: 16px; line-height: 1.1;">The AI Revolution</h1>
                <p style="font-size: 22px; line-height: 1.6; opacity: 0.95;">A data-driven investigation into the future of work</p>
            </div>
            
            <div style="background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border-radius: 16px; padding: 36px; margin: 32px 0; border: 1px solid rgba(255,255,255,0.2); animation: fadeInUp 0.9s;">
                <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 20px; opacity: 0.9;">üì¢ The Question</h3>
                <p style="font-size: 18px; line-height: 1.8; opacity: 0.95; font-style: italic;">"By 2030, artificial intelligence will transform nearly every industry. But <strong>which workers will thrive</strong>, and <strong>which face obsolescence</strong>? More importantly, <strong>what can we do about it?</strong>"</p>
            </div>

            <div style="background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border-radius: 16px; padding: 36px; margin: 32px 0; border: 1px solid rgba(255,255,255,0.2); animation: fadeInUp 1.2s;">
                <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 20px; opacity: 0.9;">üîç The Investigation</h3>
                <p style="font-size: 16px; line-height: 1.7; opacity: 0.9; margin-bottom: 20px;">We analyzed <strong>2.3 million job postings</strong> from LinkedIn, <strong>15,000 AI-specific roles</strong>, and <strong>702 occupations</strong> with automation risk scores from Oxford University's groundbreaking research.</p>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-top: 24px;">
                    <div style="text-align: center; padding: 16px; background: rgba(255,255,255,0.1); border-radius: 12px;">
                        <div style="font-size: 32px; font-weight: 800; margin-bottom: 4px;">2.3M</div>
                        <div style="font-size: 13px; opacity: 0.85;">Job Postings</div>
                    </div>
                    <div style="text-align: center; padding: 16px; background: rgba(255,255,255,0.1); border-radius: 12px;">
                        <div style="font-size: 32px; font-weight: 800; margin-bottom: 4px;">702</div>
                        <div style="font-size: 13px; opacity: 0.85;">Occupations</div>
                    </div>
                    <div style="text-align: center; padding: 16px; background: rgba(255,255,255,0.1); border-radius: 12px;">
                        <div style="font-size: 32px; font-weight: 800; margin-bottom: 4px;">47%</div>
                        <div style="font-size: 13px; opacity: 0.85;">Jobs at Risk</div>
                    </div>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border-radius: 16px; padding: 36px; margin: 32px 0; border: 1px solid rgba(255,255,255,0.2); animation: fadeInUp 1.5s;">
                <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 20px; opacity: 0.9;">üß† The Discovery Process</h3>
                <p style="font-size: 15px; line-height: 1.7; opacity: 0.9; margin-bottom: 20px;">This is not a static report. It's an <strong>interactive exploration</strong> where <em>you</em> uncover the patterns. Each click reveals new insights. Each filter tells a different story.</p>
                <div style="display: grid; gap: 14px;">
                    <div style="display: flex; gap: 14px; align-items: center; padding: 14px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                        <div style="background: #fbbf24; border-radius: 50%; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; font-weight: 700; flex-shrink: 0; color: #78350f;">1</div>
                        <div><strong>Geographic Patterns:</strong> Where are AI jobs concentrating? Click countries to filter everything.</div>
                    </div>
                    <div style="display: flex; gap: 14px; align-items: center; padding: 14px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                        <div style="background: #f87171; border-radius: 50%; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; font-weight: 700; flex-shrink: 0; color: #7f1d1d;">2</div>
                        <div><strong>Risk vs Reward:</strong> Discover the stark correlation. Click jobs to see career insights.</div>
                    </div>
                    <div style="display: flex; gap: 14px; align-items: center; padding: 14px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                        <div style="background: #34d399; border-radius: 50%; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; font-weight: 700; flex-shrink: 0; color: #064e3b;">3</div>
                        <div><strong>The Solution:</strong> Skills that matter. Pathways that work. Data that empowers.</div>
                    </div>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 12px; padding: 20px; margin: 32px 0; border-left: 4px solid #fbbf24; animation: fadeInUp 1.8s;">
                <p style="font-size: 14px; line-height: 1.6; opacity: 0.85;"><strong>‚ö†Ô∏è Transparency:</strong> Data from 2023-2024, English-language markets. Automation probabilities are research-based estimates. Your exploration drives the narrative.</p>
            </div>

            <button onclick="switchStage(1)" style="width: 100%; padding: 22px; background: white; color: #667eea; border: none; border-radius: 14px; font-size: 19px; font-weight: 800; cursor: pointer; box-shadow: 0 10px 30px rgba(0,0,0,0.3); transition: all 0.3s; animation: fadeInUp 2s;" onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 15px 40px rgba(0,0,0,0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 30px rgba(0,0,0,0.3)'">
                üîç Start Your Investigation ‚Üí
            </button>
        </div>
    </section>

    <!-- Stage 1: The Global Shift -->
    <section id="stage1" class="stage">
        <div class="stage-header">
            <div class="stage-number">01</div>
            <div class="stage-title-group">
                <h1 class="stage-title">The Global Shift</h1>
                <p class="stage-subtitle">Where is AI reshaping the workforce?</p>
            </div>
        </div>

        <div class="content-grid">
            <!-- World Map Visualization -->
            <div class="viz-card large">
                <div class="card-header">
                    <h3>AI Job Distribution Worldwide</h3>
                    <div class="card-controls">
                        <button class="control-btn active" data-metric="jobs">Jobs</button>
                        <button class="control-btn" data-metric="salary">Salary</button>
                        <button class="control-btn" data-metric="remote">Remote %</button>
                    </div>
                </div>
                <div id="world-map" class="viz-container"></div>
                <div class="insight-box">
                    <span class="insight-icon">üí°</span>
                    <p id="map-insight">Click on countries to explore detailed job market data</p>
                </div>
            </div>

            <!-- Country Details Panel -->
            <div class="viz-card">
                <div class="card-header">
                    <h3>Country Spotlight</h3>
                </div>
                <div id="country-details" class="details-panel">
                    <div class="empty-state">
                        <span class="empty-icon">üó∫Ô∏è</span>
                        <p style="font-weight: 600; font-size: 16px; margin-bottom: 8px;">Select a country on the map</p>
                        <p style="font-size: 13px; opacity: 0.7;">Click any bubble to see detailed statistics</p>
                    </div>
                </div>
            </div>

            <!-- Industry Transformation -->
            <div class="viz-card large">
                <div class="card-header">
                    <h3>Industry Transformation</h3>
                    <p class="card-subtitle">AI adoption across sectors</p>
                </div>
                <div id="industry-chart" class="viz-container">
                    <div style="padding: 60px; text-align: center; color: #94a3b8;">
                        <div style="font-size: 48px; margin-bottom: 16px;">üìä</div>
                        <p style="font-size: 14px;">Loading industry data...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stage 2: Risk & Reward Spectrum -->
    <section id="stage2" class="stage">
        <div class="stage-header">
            <div class="stage-number">02</div>
            <div class="stage-title-group">
                <h1 class="stage-title">Risk & Reward Spectrum</h1>
                <p class="stage-subtitle">Which jobs are vulnerable and what opportunities exist?</p>
            </div>
        </div>

        <div class="content-grid">
            <!-- Automation Risk Scatter Plot -->
            <div class="viz-card full-width">
                <div class="card-header">
                    <h3>Salary vs Automation Risk</h3>
                    <div class="card-controls">
                        <button class="control-btn active" data-filter="all">All Jobs</button>
                        <button class="control-btn" data-filter="high-salary">High Salary ($120K+)</button>
                        <button class="control-btn" data-filter="ai">AI Jobs</button>
                    </div>
                </div>
                <div id="scatter-plot" class="viz-container large"></div>
                <div class="insight-box">
                    <span class="insight-icon">üìä</span>
                    <p id="scatter-insight">Hover over jobs to see details. Clear inverse correlation between automation risk and salary. <strong>Note:</strong> Salaries capped at $350K for better visualization.</p>
                </div>
            </div>

            <!-- Risk Distribution -->
            <div class="viz-card">
                <div class="card-header">
                    <h3>Workforce at Risk</h3>
                </div>
                <div id="risk-distribution" class="viz-container"></div>
            </div>

            <!-- AI Opportunities -->
            <div class="viz-card">
                <div class="card-header">
                    <h3>AI Career Opportunities</h3>
                </div>
                <div id="ai-opportunities" class="viz-container">
                    <div style="padding: 50px 30px; text-align: center; color: #64748b;">
                        <div style="font-size: 64px; margin-bottom: 20px; animation: float 3s ease-in-out infinite;">üíº</div>
                        <h4 style="margin-bottom: 12px; color: #1e293b; font-size: 20px; font-weight: 700;">AI Job Market</h4>
                        <p style="font-size: 14px; line-height: 1.6; max-width: 300px; margin: 0 auto;">Click any job in the scatter plot above to see detailed career insights and salary information</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stage 3: Skill Evolution -->
    <section id="stage3" class="stage">
        <div class="stage-header">
            <div class="stage-number">03</div>
            <div class="stage-title-group">
                <h1 class="stage-title">Skill Evolution & Career Pathways</h1>
                <p class="stage-subtitle">What skills matter and how can workers adapt?</p>
            </div>
        </div>

        <div class="content-grid">
            <!-- Skill Comparison -->
            <div class="viz-card full-width">
                <div class="card-header">
                    <h3>AI vs Traditional Skills Demand</h3>
                    <div class="card-controls">
                        <button class="control-btn active" data-view="comparison">Comparison</button>
                        <button class="control-btn" data-view="salary">By Salary</button>
                        <button class="control-btn" data-view="growth">Growth Rate</button>
                    </div>
                </div>
                <div id="skills-chart" class="viz-container large"></div>
            </div>

            <!-- Career Pathways -->
            <div class="viz-card large">
                <div class="card-header">
                    <h3>Career Transition Pathways</h3>
                    <p class="card-subtitle">From at-risk jobs to AI careers</p>
                </div>
                <div id="pathways-chart" class="viz-container">
                    <div style="padding: 30px;">
                        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                            <div style="flex: 1; min-width: 250px; padding: 20px; background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-radius: 12px; border-left: 4px solid #f59e0b;">
                                <div style="font-size: 32px; margin-bottom: 12px;">üìã</div>
                                <h4 style="color: #92400e; margin-bottom: 8px;">Administrative ‚Üí Data Analyst</h4>
                                <p style="font-size: 13px; color: #78350f; margin-bottom: 12px;">Learn: Excel, SQL, Python, Tableau</p>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; font-weight: 600;">
                                    <span style="color: #92400e;">‚è±Ô∏è 6-12 months</span>
                                    <span style="color: #059669;">üí∞ +40% salary</span>
                                </div>
                            </div>
                            <div style="flex: 1; min-width: 250px; padding: 20px; background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); border-radius: 12px; border-left: 4px solid #3b82f6;">
                                <div style="font-size: 32px; margin-bottom: 12px;">üéß</div>
                                <h4 style="color: #1e40af; margin-bottom: 8px;">Customer Service ‚Üí AI Support</h4>
                                <p style="font-size: 13px; color: #1e3a8a; margin-bottom: 12px;">Learn: Communication, Tech Writing, ML Basics</p>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; font-weight: 600;">
                                    <span style="color: #1e40af;">‚è±Ô∏è 3-6 months</span>
                                    <span style="color: #059669;">üí∞ +25% salary</span>
                                </div>
                            </div>
                            <div style="flex: 1; min-width: 250px; padding: 20px; background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%); border-radius: 12px; border-left: 4px solid #8b5cf6;">
                                <div style="font-size: 32px; margin-bottom: 12px;">üè≠</div>
                                <h4 style="color: #5b21b6; margin-bottom: 8px;">Manufacturing ‚Üí Robotics Tech</h4>
                                <p style="font-size: 13px; color: #4c1d95; margin-bottom: 12px;">Learn: Automation, Programming, Troubleshooting</p>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; font-weight: 600;">
                                    <span style="color: #5b21b6;">‚è±Ô∏è 12-18 months</span>
                                    <span style="color: #059669;">üí∞ +35% salary</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Future Workforce -->
            <div class="viz-card">
                <div class="card-header">
                    <h3>Future Workforce Projection</h3>
                </div>
                <div id="future-projection" class="viz-container">
                    <div style="padding: 30px;">
                        <div style="text-align: center; margin-bottom: 30px;">
                            <div style="font-size: 56px; font-weight: 800; color: #ef4444; margin-bottom: 8px;">47%</div>
                            <p style="font-size: 14px; color: #64748b; font-weight: 500;">of jobs at HIGH automation risk</p>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 24px;">
                            <div style="padding: 16px; background: #fef2f2; border-radius: 8px; border-left: 3px solid #ef4444;">
                                <div style="font-size: 24px; font-weight: 700; color: #dc2626;">45M</div>
                                <div style="font-size: 12px; color: #991b1b; font-weight: 500;">Workers Need Reskilling</div>
                            </div>
                            <div style="padding: 16px; background: #f0fdf4; border-radius: 8px; border-left: 3px solid #10b981;">
                                <div style="font-size: 24px; font-weight: 700; color: #059669;">3x</div>
                                <div style="font-size: 12px; color: #065f46; font-weight: 500;">AI Jobs Growth by 2030</div>
                            </div>
                            <div style="padding: 16px; background: #eff6ff; border-radius: 8px; border-left: 3px solid #3b82f6;">
                                <div style="font-size: 24px; font-weight: 700; color: #2563eb;">$115K</div>
                                <div style="font-size: 12px; color: #1e40af; font-weight: 500;">Avg AI Job Salary</div>
                            </div>
                            <div style="padding: 16px; background: #fef3c7; border-radius: 8px; border-left: 3px solid #f59e0b;">
                                <div style="font-size: 24px; font-weight: 700; color: #d97706;">6-18mo</div>
                                <div style="font-size: 12px; color: #92400e; font-weight: 500;">Transition Timeline</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tooltip -->
    <div id="tooltip" class="tooltip"></div>

    <!-- Scripts -->
    <script src="js/api-client.js"></script>
    <script src="js/visualizations.js"></script>
    <script src="js/main-new.js"></script>
</body>
</html>

    <!-- Help Modal -->
    <div id="help-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 10000; backdrop-filter: blur(5px);" onclick="if(event.target.id==='help-modal') hideHelp()">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; border-radius: 20px; padding: 40px; max-width: 600px; width: 90%; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
            <button onclick="hideHelp()" style="position: absolute; top: 20px; right: 20px; background: #f1f5f9; border: none; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; font-size: 18px; transition: all 0.3s;" onmouseover="this.style.background='#e2e8f0'" onmouseout="this.style.background='#f1f5f9'">‚úï</button>
            <h2 style="color: #1e293b; margin-bottom: 24px; font-size: 28px;">üí° How to Use</h2>
            <div style="display: grid; gap: 20px;">
                <div style="padding: 16px; background: linear-gradient(135deg, #e0e7ff, #f3e8ff); border-radius: 12px; border-left: 4px solid #6366f1;">
                    <h3 style="color: #4338ca; margin-bottom: 8px; font-size: 16px;">üó∫Ô∏è Stage 1: Global Shift</h3>
                    <p style="color: #3730a3; font-size: 14px; line-height: 1.6;"><strong>Click countries</strong> on the map to filter all visualizations. Toggle between Jobs, Salary, and Remote % views.</p>
                </div>
                <div style="padding: 16px; background: linear-gradient(135deg, #fee2e2, #fecaca); border-radius: 12px; border-left: 4px solid #ef4444;">
                    <h3 style="color: #991b1b; margin-bottom: 8px; font-size: 16px;">üìä Stage 2: Risk & Reward</h3>
                    <p style="color: #7f1d1d; font-size: 14px; line-height: 1.6;"><strong>Click jobs</strong> in the scatter plot to see detailed career insights. Filter by risk level to focus your exploration.</p>
                </div>
                <div style="padding: 16px; background: linear-gradient(135deg, #d1fae5, #a7f3d0); border-radius: 12px; border-left: 4px solid #10b981;">
                    <h3 style="color: #065f46; margin-bottom: 8px; font-size: 16px;">üéØ Stage 3: Skill Evolution</h3>
                    <p style="color: #064e3b; font-size: 14px; line-height: 1.6;"><strong>Toggle views</strong> to compare skills by demand, salary, or growth rate. Explore career transition pathways.</p>
                </div>
            </div>
            <div style="margin-top: 24px; padding: 16px; background: #fef3c7; border-radius: 12px; text-align: center;">
                <p style="color: #78350f; font-size: 13px; font-weight: 600;">‚ú® Tip: Hover over any element for more details!</p>
            </div>
        </div>
    </div>

    <script>
        function showHelp() {
            document.getElementById('help-modal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        function hideHelp() {
            document.getElementById('help-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    </script>
